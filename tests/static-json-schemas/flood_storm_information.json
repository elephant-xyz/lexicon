{"$schema":"https://json-schema.org/draft-07/schema#","additionalProperties":false,"allOf":[{"if":{"properties":{"source_http_request":{"type":"object"}}},"then":{"properties":{"source_http_request":{"allOf":[{"if":{"properties":{"method":{"enum":["GET"]}}},"then":{"not":{"anyOf":[{"required":["body"]},{"required":["json"]},{"required":["headers"]}]}}},{"if":{"properties":{"headers":{"properties":{"content-type":{"const":"application/json"}}},"method":{"enum":["POST","PUT","PATCH"]}}},"then":{"not":{"required":["body"]},"required":["json"]}},{"if":{"properties":{"headers":{"properties":{"content-type":{"not":{"const":"application/json"}}}},"method":{"enum":["POST","PUT","PATCH"]}}},"then":{"not":{"required":["json"]},"required":["body"]}},{"if":{"required":["json"]},"then":{"properties":{"headers":{"properties":{"content-type":{"const":"application/json"}},"required":["content-type"]}}}},{"if":{"required":["body"]},"then":{"properties":{"headers":{"properties":{"content-type":{"not":{"const":"application/json"}}},"required":["content-type"]}}}}]}}}}],"description":"JSON Schema for flood_storm_information class in Elephant Lexicon","properties":{"community_id":{"description":"The FEMA community identifier code for the jurisdiction where the property is located.","minLength":1,"type":["string","null"]},"effective_date":{"description":"The date when the current flood map version became effective. Format: MM/DD/YYYY or YYYY-MM-DD.","format":"date","minLength":1,"type":["string","null"]},"evacuation_zone":{"description":"The evacuation zone designation (e.g., A, B, C) assigned to the property location for emergency planning purposes.","minLength":1,"type":["string","null"]},"fema_search_url":{"description":"The FEMA Map Service Center URL used to search and verify flood information for the specific property address.","format":"uri","minLength":1,"type":["string","null"]},"flood_insurance_required":{"description":"Indicates whether flood insurance is required based on the flood zone designation and federal regulations.","type":"boolean"},"flood_zone":{"description":"The FEMA flood zone designation indicating the level of flood risk (e.g., AE, X, VE).","minLength":1,"type":["string","null"]},"map_version":{"description":"The version identifier of the FEMA flood map panel.","minLength":1,"type":["string","null"]},"panel_number":{"description":"The FEMA flood insurance rate map (FIRM) panel number that contains the property location.","minLength":1,"type":["string","null"]},"request_identifier":{"description":"Identifier value that should be substituted into the source HTTP request to retrieve this specific data.","minLength":1,"type":["string","null"]},"source_http_request":{"additionalProperties":false,"description":"HTTP request configuration for retrieving this data.","properties":{"body":{"description":"The body of the request, which may contain JSON or other data formats.","type":"string"},"headers":{"additionalProperties":false,"properties":{"content-type":{"description":"Content-Type header for the request, indicating the media type of the resource.","enum":["application/json","multipart/form-data","text/xml",null],"type":"string"}},"type":"object"},"json":{"type":["object","array"]},"method":{"enum":["GET","POST","PUT","PATCH",null],"type":"string"},"multiValueQueryString":{"type":"object"},"url":{"description":"The URL endpoint for the request.","pattern":"^https?://[a-zA-Z0-9.-]+(:[0-9]+)?(/[#a-zA-Z0-9._%-]+)*$","type":"string"}},"required":["method","url"],"type":"object"}},"required":["community_id","panel_number","map_version","effective_date","evacuation_zone","flood_zone","flood_insurance_required","source_http_request","request_identifier","fema_search_url"],"title":"flood_storm_information","type":"object"}
