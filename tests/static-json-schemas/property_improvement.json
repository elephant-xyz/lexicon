{"$schema":"https://json-schema.org/draft-07/schema#","additionalProperties":false,"allOf":[{"if":{"properties":{"source_http_request":{"type":"object"}}},"then":{"properties":{"source_http_request":{"allOf":[{"if":{"properties":{"method":{"enum":["GET"]}}},"then":{"not":{"anyOf":[{"required":["body"]},{"required":["json"]},{"required":["headers"]}]}}},{"if":{"properties":{"headers":{"properties":{"content-type":{"const":"application/json"}}},"method":{"enum":["POST","PUT","PATCH"]}}},"then":{"not":{"required":["body"]},"required":["json"]}},{"if":{"properties":{"headers":{"properties":{"content-type":{"not":{"const":"application/json"}}}},"method":{"enum":["POST","PUT","PATCH"]}}},"then":{"not":{"required":["json"]},"required":["body"]}},{"if":{"required":["json"]},"then":{"properties":{"headers":{"properties":{"content-type":{"const":"application/json"}},"required":["content-type"]}}}},{"if":{"required":["body"]},"then":{"properties":{"headers":{"properties":{"content-type":{"not":{"const":"application/json"}}},"required":["content-type"]}}}}]}}}}],"description":"JSON Schema for property_improvement class in Elephant Lexicon","properties":{"application_received_date":{"format":"date","type":["string","null"]},"completion_date":{"description":"Date when the improvement work was completed.","format":"date","type":["string","null"]},"contractor_type":{"description":"Type of contractor or method used for the work.","enum":["GeneralContractor","Specialist","DIY","PropertyManager","Builder","HandymanService","Unknown",null],"type":["string","null"]},"final_inspection_date":{"description":"Date of final inspection approval.","format":"date","type":["string","null"]},"improvement_action":{"description":"Nature of the work.","enum":["New","Replacement","Repair","Alteration","Addition","Remove","Other",null],"type":["string","null"]},"improvement_status":{"description":"Current status of the improvement project.","enum":["Completed","InProgress","Planned","Permitted","OnHold","Cancelled",null],"type":["string","null"]},"improvement_type":{"enum":["GeneralBuilding","ResidentialConstruction","CommercialConstruction","BuildingAddition","StructureMove","Demolition","PoolSpaInstallation","Electrical","MechanicalHVAC","GasInstallation","Roofing","Fencing","DockAndShore","FireProtectionSystem","Plumbing","ExteriorOpeningsAndFinishes","MobileHomeRV","LandscapeIrrigation","ScreenEnclosure","ShutterAwning","SiteDevelopment","CodeViolation","Complaint","ContractorLicense","Sponsorship","StateLicenseRegistration","AdministrativeApproval","AdministrativeAppeal","BlueSheetHearing","PlannedDevelopment","DevelopmentOfRegionalImpact","Rezoning","SpecialExceptionZoning","Variance","ZoningExtension","ZoningVerificationLetter","RequestForRelief","WaiverRequest","InformalMeeting","EnvironmentalMonitoring","Vacation","VegetationRemoval","ComprehensivePlanAmendment","MinimumUseDetermination","TransferDevelopmentRightsDetermination","MapBoundaryDetermination","TransferDevelopmentRightsCertificate","UniformCommunityDevelopment","SpecialCertificateOfAppropriateness","CertificateToDig","HistoricDesignation","PlanningAdministrativeAppeal","WellPermit","TestBoring","ExistingWellInspection","NaturalResourcesComplaint","NaturalResourcesViolation","LetterWaterSewer","UtilitiesConnection","DrivewayPermit","RightOfWayPermit",null],"type":["string","null"]},"is_disaster_recovery":{"description":"Whether the work is associated with disaster recovery.","type":["boolean","null"]},"is_owner_builder":{"description":"Whether improvement is done by owner versus hiring a contractor","type":["boolean","null"]},"permit_close_date":{"description":"Date the permit record was closed/complete.","format":"date","type":["string","null"]},"permit_issue_date":{"description":"Date the permit was issued.","format":"date","type":["string","null"]},"permit_number":{"description":"Jurisdiction record/permit number (e.g., MEC2025-05360).","type":["string","null"]},"permit_required":{"description":"Whether the improvement required building permits.","type":"boolean"},"private_provider_inspections":{"description":"Private provider used for inspections.","type":["boolean","null"]},"private_provider_plan_review":{"description":"Private provider used for plan review.","type":["boolean","null"]},"request_identifier":{"description":"Identifier value that should be substituted into the source HTTP request to retrieve this specific data.","type":"string"},"source_http_request":{"additionalProperties":false,"description":"HTTP request configuration for retrieving this data.","properties":{"body":{"description":"The body of the request, which may contain JSON or other data formats.","type":"string"},"headers":{"additionalProperties":false,"properties":{"content-type":{"description":"Content-Type header for the request, indicating the media type of the resource.","enum":["application/json","multipart/form-data","text/xml","application/x-www-form-urlencoded",null],"type":"string"}},"type":"object"},"json":{"type":["object","array"]},"method":{"enum":["GET","POST","PUT","PATCH",null],"type":"string"},"multiValueQueryString":{"type":"object"},"url":{"description":"The URL endpoint for the request.","pattern":"^https?://[a-zA-Z0-9.-]+(:[0-9]+)?(/[#a-zA-Z0-9._%-]+)*$","type":"string"}},"required":["method","url"],"type":"object"}},"required":["source_http_request","request_identifier","improvement_type","improvement_status","completion_date","contractor_type","permit_required"],"title":"property_improvement","type":"object"}